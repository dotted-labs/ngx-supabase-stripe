<div class="card bg-base-100 shadow-xl max-w-sm mx-auto rounded-3xl w-[350px]">
  <!-- Header with image and favorite icon -->
  <div class="relative">
    @if (sanitizedImage()) {
      <figure class="bg-gradient-to-br from-base-200 to-base-300">
        <img 
          [src]="sanitizedImage()" 
          alt="{{ product().name }}" 
          class="h-64 w-full object-cover p-8 rounded-t-3xl" />
      </figure>
    } @else {
      <div class="h-64 bg-gradient-to-br from-base-200 to-base-300 flex items-center justify-center">
        <div class="text-base-content/50 text-6xl">ðŸ“¦</div>
      </div>
    }
  </div>

  <div class="card-body p-6 flex flex-col h-full">
    <!-- Product title -->
    <h2 class="card-title text-xl font-bold text-base-content">
      {{ product().name }}
    </h2>

    <!-- Description (moved under title) -->
    @if (product().description) {
      <p class="text-base-content/70 text-sm mb-4 line-clamp-3">
        {{ product().description }}
      </p>
    }

         <!-- Price options as text -->
    <div class="flex justify-between gap-2">
      <span class="text-xl font-bold text-base-content">
        @if (price()?.details?.type === 'recurring') {
          {{ utils.formatAmount(price()?.details?.unit_amount ?? 0, price()?.details?.currency ?? 'EUR') }}/{{ price()?.recurringInterval === 'month' ? 'mo' : 'yr' }}
        } @else {
          {{ utils.formatAmount(price()?.details?.unit_amount ?? 0, price()?.details?.currency ?? 'EUR') }}
        }
      </span>

      <!-- Status badge (only show if inactive) -->
      @if (!product().active) {
        <div class="mt-4">
          <div class="badge badge-warning badge-sm">Inactive</div>
        </div>
      } @else {
        <button 
          class="btn btn-primary"
          (click)="onSelect()">
          Buy now
        </button>
      }
    </div>
  </div>
</div> 