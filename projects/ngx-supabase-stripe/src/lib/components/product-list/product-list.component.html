@if (productsService.isLoading()) {
  <div class="flex justify-center items-center p-8">
    <div class="loading loading-spinner text-primary"></div>
  </div>
} @else if (productsService.isError()) {
  <div class="alert alert-error">
    <span>{{ productsService.getError() }}</span>
  </div>
} @else if (!productsService.hasProducts()) {
  <div class="alert alert-info">
    <span>No products available</span>
  </div>
} @else {
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    @for (product of products(); track product.id) {
      <div class="card bg-base-100 shadow-xl">
        @if (product?.images?.length) {
          <figure>
            <img src="{{ product.images[0] }}" alt="{{ product.name }}" class="h-48 w-full object-cover" />
          </figure>
        }
        <div class="card-body">
          @if (product.price_details) {
            <div class="text-xxl font-bold mt-2">
              {{ formatPrice(product.price_details) }}
            </div>
          }
         
          <h2 class="card-title">{{ product.name }}</h2>
          @if (product.description) {
            <p>{{ product.description }}</p>
          }
          
          @if (product.active) {
            <div class="badge badge-success">Active</div>
          } @else {
            <div class="badge badge-error">Inactive</div>
          }
          
          <div class="card-actions justify-end mt-4">
            <button class="btn btn-primary" [disabled]="!product.active" (click)="onProductSelect(product)">
              {{ buttonText() }}
            </button>
          </div>
        </div>
      </div>
    }
  </div>
} 


