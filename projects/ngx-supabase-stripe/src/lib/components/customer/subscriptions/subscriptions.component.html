<div class="mb-4 flex flex-col justify-between items-center">
  <div class="mb-6 w-full">
    <h2 class="text-2xl font-bold text-gray-800">Subscriptions</h2>
    <p class="text-gray-600">Manage your subscriptions and payments in one place</p>
  </div>
  <div class="controls mb-4 flex justify-between items-center w-full">
    <div class="stats">
      @if (customerStore.subscriptions.data().length > 0) {
        <span class="badge badge-soft badge-info">{{ customerStore.subscriptions.data().length}} subscriptions</span>
      }
    </div>
    <button class="btn btn-sm btn-outline" (click)="refreshSubscriptions()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
      </svg>
      Updated
    </button>
  </div>
</div>

<div class="flex flex-col gap-4">
  <lib-subscription-card
    [subscription]="customerStore.firstSubscription()"
    [loading]="customerStore.isSubscriptionsStatusLoading()"
    [error]="customerStore.subscriptions.error()"
    (onManageSubscription)="manageSubscription($event)">
  </lib-subscription-card>
  <lib-subscriptions-list
    [subscriptions]="customerStore.restSubscriptions()"
    [loading]="customerStore.isSubscriptionsStatusLoading()"
    [error]="customerStore.subscriptions.error()"
    [withEmptyState]="false"
    (onManageSubscription)="manageSubscription($event)">
  </lib-subscriptions-list>
</div>